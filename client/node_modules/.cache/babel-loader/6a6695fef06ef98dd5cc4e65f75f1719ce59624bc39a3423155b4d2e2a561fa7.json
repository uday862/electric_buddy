{"ast":null,"code":"// Sound notification utility for chat messages\nlet audioContext = null;\nlet soundEnabled = true;\n\n// Initialize audio context (required for playing sounds)\nconst initAudioContext = () => {\n  if (!audioContext) {\n    audioContext = new (window.AudioContext || window.webkitAudioContext)();\n  }\n  return audioContext;\n};\n\n// Play notification sound using Web Audio API\nexport const playNotificationSound = () => {\n  if (!soundEnabled) return;\n  try {\n    const ctx = initAudioContext();\n\n    // Create a pleasant notification sound (two-tone beep)\n    const oscillator1 = ctx.createOscillator();\n    const oscillator2 = ctx.createOscillator();\n    const gainNode = ctx.createGain();\n\n    // Connect oscillators to gain node\n    oscillator1.connect(gainNode);\n    oscillator2.connect(gainNode);\n    gainNode.connect(ctx.destination);\n\n    // Set frequencies for a pleasant two-tone sound\n    oscillator1.frequency.value = 800; // Higher tone\n    oscillator2.frequency.value = 600; // Lower tone\n    oscillator1.type = 'sine';\n    oscillator2.type = 'sine';\n\n    // Set volume (gain)\n    gainNode.gain.setValueAtTime(0.3, ctx.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);\n\n    // Play the sound\n    oscillator1.start(ctx.currentTime);\n    oscillator2.start(ctx.currentTime);\n    oscillator1.stop(ctx.currentTime + 0.2);\n    oscillator2.stop(ctx.currentTime + 0.2);\n  } catch (error) {\n    console.warn('Could not play notification sound:', error);\n  }\n};\n\n// Enable/disable sound notifications\nexport const setSoundEnabled = enabled => {\n  soundEnabled = enabled;\n  localStorage.setItem('chatSoundEnabled', enabled.toString());\n};\n\n// Load sound preference from localStorage\nexport const getSoundEnabled = () => {\n  const saved = localStorage.getItem('chatSoundEnabled');\n  if (saved !== null) {\n    soundEnabled = saved === 'true';\n  }\n  return soundEnabled;\n};\n\n// Initialize sound preference on load\ngetSoundEnabled();","map":{"version":3,"names":["audioContext","soundEnabled","initAudioContext","window","AudioContext","webkitAudioContext","playNotificationSound","ctx","oscillator1","createOscillator","oscillator2","gainNode","createGain","connect","destination","frequency","value","type","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","stop","error","console","warn","setSoundEnabled","enabled","localStorage","setItem","toString","getSoundEnabled","saved","getItem"],"sources":["C:/Users/Devi Digitals/Downloads/EEE/client/src/utils/soundNotification.js"],"sourcesContent":["// Sound notification utility for chat messages\r\nlet audioContext = null;\r\nlet soundEnabled = true;\r\n\r\n// Initialize audio context (required for playing sounds)\r\nconst initAudioContext = () => {\r\n  if (!audioContext) {\r\n    audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n  }\r\n  return audioContext;\r\n};\r\n\r\n// Play notification sound using Web Audio API\r\nexport const playNotificationSound = () => {\r\n  if (!soundEnabled) return;\r\n\r\n  try {\r\n    const ctx = initAudioContext();\r\n    \r\n    // Create a pleasant notification sound (two-tone beep)\r\n    const oscillator1 = ctx.createOscillator();\r\n    const oscillator2 = ctx.createOscillator();\r\n    const gainNode = ctx.createGain();\r\n    \r\n    // Connect oscillators to gain node\r\n    oscillator1.connect(gainNode);\r\n    oscillator2.connect(gainNode);\r\n    gainNode.connect(ctx.destination);\r\n    \r\n    // Set frequencies for a pleasant two-tone sound\r\n    oscillator1.frequency.value = 800; // Higher tone\r\n    oscillator2.frequency.value = 600; // Lower tone\r\n    oscillator1.type = 'sine';\r\n    oscillator2.type = 'sine';\r\n    \r\n    // Set volume (gain)\r\n    gainNode.gain.setValueAtTime(0.3, ctx.currentTime);\r\n    gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);\r\n    \r\n    // Play the sound\r\n    oscillator1.start(ctx.currentTime);\r\n    oscillator2.start(ctx.currentTime);\r\n    oscillator1.stop(ctx.currentTime + 0.2);\r\n    oscillator2.stop(ctx.currentTime + 0.2);\r\n  } catch (error) {\r\n    console.warn('Could not play notification sound:', error);\r\n  }\r\n};\r\n\r\n// Enable/disable sound notifications\r\nexport const setSoundEnabled = (enabled) => {\r\n  soundEnabled = enabled;\r\n  localStorage.setItem('chatSoundEnabled', enabled.toString());\r\n};\r\n\r\n// Load sound preference from localStorage\r\nexport const getSoundEnabled = () => {\r\n  const saved = localStorage.getItem('chatSoundEnabled');\r\n  if (saved !== null) {\r\n    soundEnabled = saved === 'true';\r\n  }\r\n  return soundEnabled;\r\n};\r\n\r\n// Initialize sound preference on load\r\ngetSoundEnabled();\r\n\r\n"],"mappings":"AAAA;AACA,IAAIA,YAAY,GAAG,IAAI;AACvB,IAAIC,YAAY,GAAG,IAAI;;AAEvB;AACA,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC7B,IAAI,CAACF,YAAY,EAAE;IACjBA,YAAY,GAAG,KAAKG,MAAM,CAACC,YAAY,IAAID,MAAM,CAACE,kBAAkB,EAAE,CAAC;EACzE;EACA,OAAOL,YAAY;AACrB,CAAC;;AAED;AACA,OAAO,MAAMM,qBAAqB,GAAGA,CAAA,KAAM;EACzC,IAAI,CAACL,YAAY,EAAE;EAEnB,IAAI;IACF,MAAMM,GAAG,GAAGL,gBAAgB,CAAC,CAAC;;IAE9B;IACA,MAAMM,WAAW,GAAGD,GAAG,CAACE,gBAAgB,CAAC,CAAC;IAC1C,MAAMC,WAAW,GAAGH,GAAG,CAACE,gBAAgB,CAAC,CAAC;IAC1C,MAAME,QAAQ,GAAGJ,GAAG,CAACK,UAAU,CAAC,CAAC;;IAEjC;IACAJ,WAAW,CAACK,OAAO,CAACF,QAAQ,CAAC;IAC7BD,WAAW,CAACG,OAAO,CAACF,QAAQ,CAAC;IAC7BA,QAAQ,CAACE,OAAO,CAACN,GAAG,CAACO,WAAW,CAAC;;IAEjC;IACAN,WAAW,CAACO,SAAS,CAACC,KAAK,GAAG,GAAG,CAAC,CAAC;IACnCN,WAAW,CAACK,SAAS,CAACC,KAAK,GAAG,GAAG,CAAC,CAAC;IACnCR,WAAW,CAACS,IAAI,GAAG,MAAM;IACzBP,WAAW,CAACO,IAAI,GAAG,MAAM;;IAEzB;IACAN,QAAQ,CAACO,IAAI,CAACC,cAAc,CAAC,GAAG,EAAEZ,GAAG,CAACa,WAAW,CAAC;IAClDT,QAAQ,CAACO,IAAI,CAACG,4BAA4B,CAAC,IAAI,EAAEd,GAAG,CAACa,WAAW,GAAG,GAAG,CAAC;;IAEvE;IACAZ,WAAW,CAACc,KAAK,CAACf,GAAG,CAACa,WAAW,CAAC;IAClCV,WAAW,CAACY,KAAK,CAACf,GAAG,CAACa,WAAW,CAAC;IAClCZ,WAAW,CAACe,IAAI,CAAChB,GAAG,CAACa,WAAW,GAAG,GAAG,CAAC;IACvCV,WAAW,CAACa,IAAI,CAAChB,GAAG,CAACa,WAAW,GAAG,GAAG,CAAC;EACzC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACC,IAAI,CAAC,oCAAoC,EAAEF,KAAK,CAAC;EAC3D;AACF,CAAC;;AAED;AACA,OAAO,MAAMG,eAAe,GAAIC,OAAO,IAAK;EAC1C3B,YAAY,GAAG2B,OAAO;EACtBC,YAAY,CAACC,OAAO,CAAC,kBAAkB,EAAEF,OAAO,CAACG,QAAQ,CAAC,CAAC,CAAC;AAC9D,CAAC;;AAED;AACA,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EACnC,MAAMC,KAAK,GAAGJ,YAAY,CAACK,OAAO,CAAC,kBAAkB,CAAC;EACtD,IAAID,KAAK,KAAK,IAAI,EAAE;IAClBhC,YAAY,GAAGgC,KAAK,KAAK,MAAM;EACjC;EACA,OAAOhC,YAAY;AACrB,CAAC;;AAED;AACA+B,eAAe,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}